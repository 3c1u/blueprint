// Copyright 2018 Palantir Technologies, Inc. All rights reserved.
// Licensed under the terms of the LICENSE file distributed with this project.

@import "~@blueprintjs/icons/src/icons";
@import "../../common/mixins";
@import "../../common/react-transition";
@import "../../common/variables";

$drawer-margin: ($pt-grid-size * 3) 0 !default;
$drawer-padding: $pt-grid-size * 2 !default;

.#{$ns}-drawer {
  @include react-transition-phase(
    "#{$ns}-overlay",
    "enter",
    (transform: (translateX(100%), translateX(0))),
    $pt-transition-duration * 2,
    $pt-transition-ease,
    $before: "&"
  );
  @include react-transition-phase(
    "#{$ns}-overlay",
    "exit",
    (transform: (translateX(100%), translateX(0))),
    $pt-transition-duration,
    $before: "&"
  );
  display: flex;
  flex-direction: column;
  top: 0;
  right: 0;
  bottom: 0;
  margin: 0;
  box-shadow: $pt-elevation-shadow-4;
  background: $white;
  width: 50vw;
  min-width: $pt-grid-size * 50;
  max-width: $pt-grid-size * 80;
  padding: 0;

  &:focus {
    outline: 0;
  }

  &.#{$ns}-dark,
  .#{$ns}-dark & {
    box-shadow: $pt-dark-dialog-box-shadow;
    background: $pt-dark-app-background-color;
    color: $pt-dark-text-color;
  }
}

.#{$ns}-drawer-header {
  display: flex;
  flex: 0 0 auto;
  align-items: center;
  border-radius: 0;
  box-shadow: 0 1px 0 $pt-divider-black;
  background: $white;
  min-height: $pt-icon-size-large + $dialog-padding;
  padding-left: $dialog-padding;

  .#{$ns}-icon-large,
  .#{$ns}-icon {
    flex: 0 0 auto;
    margin-right: $dialog-padding / 2;
    color: $pt-icon-color;
  }

  .#{$ns}-heading {
    @include overflow-ellipsis();
    flex: 1 1 auto;
    margin: 0;
    line-height: inherit;

    &:last-child {
      margin-right: $dialog-padding;
    }
  }

  .#{$ns}-dark & {
    box-shadow: 0 1px 0 $pt-dark-divider-black;
    background: $dark-gray4;

    .#{$ns}-icon-large,
    .#{$ns}-icon {
      color: $pt-dark-icon-color;
    }
  }
}

.#{$ns}-drawer-body {
  flex: 1 1 auto;
  margin: $drawer-padding;
  line-height: $pt-grid-size * 1.8;
}

.#{$ns}-drawer-footer {
  flex: 0 0 auto;
  margin: 0 $drawer-padding;
}
